(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-311f4dac"],{"73e4":function(t,e,a){"use strict";e["a"]={data:function(){return{swal_confirm_submit_data:{title:"Please confirm your submission.",text:"Your changes will be saved after this process.",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, save it!",cancelButtonText:"Wait, im not done yet!"},swal_confirm_delete_data:{title:"Are you sure you want to delete this record?",text:"Note: This action will not be undone.",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete!",cancelButtonText:"No, I dont want to delete it!"},swal_transaction_completed_data:{title:"Transaction Completed!",text:"Data Successfully Saved.",icon:"success",showConfirmButton:!1,timer:1e3},swal_transaction_warning_data:{title:"Warning!",text:"Complete all necessary fields!",icon:"warning"},swal_transaction_error_data:{title:"Error!",text:"Please contact your Administrator.",icon:"error"}}},methods:{swalConfirmSubmit:function(t){this.$swal(this.swal_confirm_submit_data).then((function(e){t(e)}))},swalFieldsRequired:function(){this.$swal.fire("Error!","Please fill out all required fields","error")},swalRequestError:function(){this.$swal.fire(this.swal_transaction_error_data)},swalTransactionCompleted:function(){this.$swal.fire(this.swal_transaction_completed_data)},swalConfirmDelete:function(t){this.$swal(this.swal_confirm_delete_data).then((function(e){t(e)}))},swalTransactionWarning:function(){this.$swal.fire(this.swal_transaction_warning_data)}}}},8330:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.is_saving?a("b-row",{staticClass:"loader",attrs:{"align-v":"center"}},[a("b-col",[a("b-spinner"),a("br"),a("br"),a("strong",[t._v("Loading")])],1)],1):t._e(),a("CWidgetIcon",{staticClass:"mb-2",attrs:{header:"undefined"!=typeof t.form.total_balance?t.form.total_balance.other_formats.format_1:"0",text:"REMAINING BALANCE",color:"danger"}},[a("CIcon",{attrs:{name:"cil-laptop"}})],1),a("b-form",{on:{submit:t.save}},[a("b-form-group",{attrs:{label:"Customer Name:",description:"This field is required"}},[a("b-form-input",{attrs:{type:"text",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("b-form-group",{attrs:{label:"Contact Number:"}},[a("b-form-input",{attrs:{type:"text"},model:{value:t.form.contact_number,callback:function(e){t.$set(t.form,"contact_number",e)},expression:"form.contact_number"}})],1),a("b-form-group",{attrs:{label:"Address:"}},[a("b-form-input",{attrs:{type:"text"},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1),a("div",{staticClass:"text-right"},[a("router-link",{attrs:{to:"/maintenance/customers/all"}},[-1!=t.form.id?a("b-button",{staticClass:"mr-1",attrs:{variant:"dark",size:"sm"}},[a("font-awesome-icon",{attrs:{icon:"chevron-left"}}),t._v(" Back")],1):t._e()],1),a("b-button",{attrs:{type:"submit",variant:"dark",size:"sm"}},[a("font-awesome-icon",{attrs:{icon:"save"}}),t._v(" Save")],1)],1)],1)],1)},i=[],n=a("73e4"),r={mixins:[n["a"]],data:function(){return{form:{id:-1,name:"",contact_number:"",address:""},form_copy:{},is_saving:!1}},created:function(){this.form_copy=JSON.parse(JSON.stringify(this.form)),-1!=this.$route.params.id&&this.get()},methods:{get:function(){var t=this;this.is_saving=!0,this.axios.get("maintenance/customers/get",{params:{id:this.$route.params.id}}).then((function(e){t.form=e.data,t.is_saving=!1})).catch((function(t){return console.log(t)}))},save:function(){var t=this;event.preventDefault(),this.swalConfirmSubmit((function(e){e.value&&(t.is_saving=!0,t.axios.post("maintenance/customers/save",t.form).then((function(e){t.swalTransactionCompleted(),t.is_saving=!1,-1==t.form.id&&(t.form=JSON.parse(JSON.stringify(t.form_copy)))})).catch((function(e){t.swal_transaction_error_data.text=e.response.data,t.swalRequestError(),t.is_saving=!1})))}))}}},o=r,l=a("2877"),c=Object(l["a"])(o,s,i,!1,null,null,null);e["a"]=c.exports},"86db":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-inline"},[t.currency?[t._v("P ")]:t._e(),t._v(t._s(t.input_value.toLocaleString("en-US",{minimumFractionDigits:t.decimal}))+" ")],2)},i=[],n={props:{input_value:{type:[Number,String],default:0,required:!0},decimal:{type:Number,default:2,required:!1},currency:{type:Boolean,default:!0,required:!1}},data:function(){return{}},created:function(){},methods:{}},r=n,o=a("2877"),l=Object(o["a"])(r,s,i,!1,null,null,null);e["a"]=l.exports},d3cd:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",{staticClass:"m-0"},[a("b-col",{staticClass:"p-0",attrs:{sm:"3"}},[a("div",{staticClass:"card bg-light mb-3"},[a("div",{staticClass:"card-header bg-dark text-white"},[a("h6",{staticClass:"mb-0"},[a("font-awesome-icon",{attrs:{icon:"edit"}}),t._v(" Update Record")],1)]),a("div",{staticClass:"card-body position-relative bg-white p-2"},[a("form-component")],1)])]),a("b-col",{staticClass:"p-0"},[a("div",{staticClass:"bg-white p-2 ml-2 border rounded"},[a("b-tabs",{attrs:{"content-class":"mt-2"}},[a("b-tab",{attrs:{title:"Charged Transactions",active:""}},[a("charged-transactions")],1),a("b-tab",{attrs:{title:"Manual Entries"}},[a("manual-entries")],1),a("b-tab",{attrs:{title:"Payment Transactions"}},[a("payment-transactions")],1),a("b-tab",{attrs:{title:"Logs"}},[a("transaction-logs")],1)],1)],1)])],1)],1)},i=[],n=a("8330"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"card bg-light mb-0"},[a("div",{staticClass:"card-header bg-facebook text-white p-2"},[t.loading?a("div",[a("strong",[t._v(" Fetching result... ")])]):a("div",[a("font-awesome-icon",{attrs:{icon:"database"}}),a("strong",[t._v(" "+t._s(t.list.total)+" ")]),a("small",[t._v("Result/s found")])],1)]),a("div",{staticClass:"card-body bg-light mb-0 p-2"},[a("b-row",{staticClass:"mb-2"},[a("b-col",{attrs:{sm:"4"}},[a("b-form-select",{attrs:{options:t.options,size:"sm"},on:{change:t.changeDisplayNo},model:{value:t.selected_display_no,callback:function(e){t.selected_display_no=e},expression:"selected_display_no"}})],1),a("b-col",{attrs:{sm:"6","offset-sm":"2"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-input-group-prepend",[a("b-input-group-text",{staticClass:"bg-dark text-white"},[a("font-awesome-icon",{attrs:{icon:"search"}})],1)],1),a("b-form-input",{attrs:{type:"text",debounce:"500",placeholder:"Search...",autocomplete:"off"},model:{value:t.search_term,callback:function(e){t.search_term=e},expression:"search_term"}}),a("b-input-group-append",[a("b-button",{staticClass:"bg-dark text-white",attrs:{variant:"dark",disabled:""==t.search_term},on:{click:t.clearSearch}},[a("font-awesome-icon",{attrs:{icon:"times"}})],1)],1)],1)],1)],1),a("b-table",{staticClass:"bg-white",attrs:{selectable:"",selectedVariant:"info","select-mode":"single",responsive:"sm",small:"",items:t.table_items,fields:t.captions,busy:t.loading,bordered:"","show-empty":"","head-variant":"dark"},on:{"row-dblclicked":t.rowDbClicked}},[a("div",{staticClass:"text-center my-2",attrs:{slot:"table-busy"},slot:"table-busy"},[a("br"),a("b-spinner",{staticClass:"align-middle",attrs:{small:""}}),a("br"),a("br"),a("strong",[t._v("Loading")])],1)]),t.list.total>0?a("nav",[a("b-pagination",{staticClass:"mb-0",attrs:{disabled:t.loading,align:"right","total-rows":t.total_rows,"per-page":t.per_page},on:{input:t.getAll},model:{value:t.list.current_page,callback:function(e){t.$set(t.list,"current_page",e)},expression:"list.current_page"}})],1):t._e()],1)])])},o=[],l=a("56d7"),c=a("73e4"),d=a("86db"),u={name:"server-side-paginated-table",inheritAttrs:!1,mixins:[c["a"]],components:{NumberFormatComponent:d["a"]},data:function(){return{selected:[],list:{data:[],from:1,to:0,current_page:1,total:0,per_page:1},result:[],loading:!0,searchTimeout:function(){return{type:Function,default:function(){return{}}}},search_term:"",options:[{value:10,text:"Display 10 records"},{value:25,text:"Display 25 records"},{value:50,text:"Display 50 records"},{value:100,text:"Display 100 records"}],selected_display_no:10,table_settings:{api_url:"maintenance/customers/charged_transactions",delete_url:"daily_logs/delete",fields:[{key:"transaction_date.other_formats.format_1",label:"Transaction Date"},{key:"charged_number",label:"Reference Numebr"},{key:"grand_total.other_formats.format_1",label:"Amount Charged"}]}}},computed:{table_items:function(){return this.list.data},per_page:function(){return parseInt(this.list.per_page)},total_rows:function(){return parseInt(this.list.total)},captions:function(){return this.table_settings.fields},total_selected:function(){return parseInt(this.selected.length)}},created:function(){},mounted:function(){},watch:{search_term:{immediate:!0,handler:function(){""!=this.search_term&&(this.loading=!0),this.list.current_page=1,this.getAll()}},project_location_structure_item_id:{immediate:!0,handler:function(){-1!=this.project_location_structure_item_id&&""!=this.project_location_structure_item_id&&(this.loading=!0,this.list.current_page=1,this.getAll())}}},methods:{getAll:function(){var t=this;this.loading=!0,this.axios.get(this.table_settings.api_url+"?customer_id="+this.$route.params.id+"&page="+this.list.current_page+"&per_page="+this.selected_display_no+"&search="+this.search_term).then((function(e){var a=e.data;t.list=a,t.loading=!1})).catch((function(t){return console.log(t)}))},clickTopRightBtn:function(){this.$emit("serverSidePaginatedTableTopRightBtnClicked")},rowDbClicked:function(t){this.$emit("serverSidePaginatedTableDbClick",t)},clearSearch:function(){this.search_term="",this.getAll()},changeDisplayNo:function(){this.loading=!0,this.list.current_page=1,this.getAll()},deleteRow:function(t){var e=this;this.swalConfirmDelete((function(a){a.value&&(e.loading=!0,e.axios.delete(e.delete_url,{data:{id:t}}).then((function(t){e.getAll(),e.swal_transaction_completed_data.text="Record successfully deleted.",e.swalTransactionCompleted(),e.loading=!1,l["bus"].$emit("refreshComputations")})).catch((function(t){e.swalRequestError(),e.loading=!1})))}))}}},m=u,p=a("2877"),_=Object(p["a"])(m,r,o,!1,null,null,null),h=_.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"card bg-light mb-0"},[a("div",{staticClass:"card-header bg-facebook text-white p-2  d-flex justify-content-between align-items-center"},[t.loading?a("div",[a("strong",[t._v(" Fetching result... ")])]):a("div",[a("font-awesome-icon",{attrs:{icon:"database"}}),a("strong",[t._v(" "+t._s(t.list.total)+" ")]),a("small",[t._v("Result/s found")])],1),a("div",[a("b-button",{attrs:{variant:"light",size:"sm"},on:{click:function(e){t.modal=!0}}},[a("font-awesome-icon",{attrs:{icon:"plus"}}),t._v(" Add ")],1)],1)]),a("div",{staticClass:"card-body bg-light mb-0 p-2"},[a("b-row",{staticClass:"mb-2"},[a("b-col",{attrs:{sm:"4"}},[a("b-form-select",{attrs:{options:t.options,size:"sm"},on:{change:t.changeDisplayNo},model:{value:t.selected_display_no,callback:function(e){t.selected_display_no=e},expression:"selected_display_no"}})],1),a("b-col",{attrs:{sm:"6","offset-sm":"2"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-input-group-prepend",[a("b-input-group-text",{staticClass:"bg-dark text-white"},[a("font-awesome-icon",{attrs:{icon:"search"}})],1)],1),a("b-form-input",{attrs:{type:"text",debounce:"500",placeholder:"Search...",autocomplete:"off"},model:{value:t.search_term,callback:function(e){t.search_term=e},expression:"search_term"}}),a("b-input-group-append",[a("b-button",{staticClass:"bg-dark text-white",attrs:{variant:"dark",disabled:""==t.search_term},on:{click:t.clearSearch}},[a("font-awesome-icon",{attrs:{icon:"times"}})],1)],1)],1)],1)],1),a("b-table",{staticClass:"bg-white",attrs:{selectable:"",selectedVariant:"info","select-mode":"single",responsive:"sm",small:"",items:t.table_items,fields:t.captions,busy:t.loading,bordered:"","show-empty":"","head-variant":"dark"},on:{"row-dblclicked":t.rowDbClicked},scopedSlots:t._u([{key:"cell(action)",fn:function(e){return[a("div",{staticClass:"text-center"},[a("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(a){return t.deleteRow(e.item.id)}}},[a("font-awesome-icon",{attrs:{icon:"minus-circle"}}),t._v(" Delete ")],1)],1)]}}])},[a("div",{staticClass:"text-center my-2",attrs:{slot:"table-busy"},slot:"table-busy"},[a("br"),a("b-spinner",{staticClass:"align-middle",attrs:{small:""}}),a("br"),a("br"),a("strong",[t._v("Loading")])],1)]),t.list.total>0?a("nav",[a("b-pagination",{staticClass:"mb-0",attrs:{disabled:t.loading,align:"right","total-rows":t.total_rows,"per-page":t.per_page},on:{input:t.getAll},model:{value:t.list.current_page,callback:function(e){t.$set(t.list,"current_page",e)},expression:"list.current_page"}})],1):t._e()],1)]),a("b-modal",{attrs:{centered:"",size:"md","body-class":"p-0","hide-footer":!0,"hide-header":!0},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("div",{staticClass:"card bg-light mb-0"},[a("div",{staticClass:"card-header bg-facebook text-white p-2"},[a("h6",{staticClass:"mb-0"},[a("font-awesome-icon",{attrs:{icon:"plus-circle"}}),t._v(" Add Manual Entry")],1)]),a("div",{staticClass:"card-body position-relative bg-white p-2"},[a("loader",{attrs:{status:t.is_saving}}),a("b-form",{on:{submit:t.save}},[a("b-form-group",{attrs:{label:"Amount:",description:"This field is required"}},[a("b-form-input",{attrs:{type:"number",step:"any",required:""},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",e)},expression:"form.amount"}})],1),a("b-form-group",{attrs:{label:"Remarks:"}},[a("b-form-textarea",{attrs:{id:"textarea",placeholder:"...",rows:"3","max-rows":"6",required:""},model:{value:t.form.remarks,callback:function(e){t.$set(t.form,"remarks",e)},expression:"form.remarks"}})],1),a("div",{staticClass:"text-right"},[a("b-button",{attrs:{type:"submit",variant:"dark",size:"sm"}},[a("font-awesome-icon",{attrs:{icon:"save"}}),t._v(" Save")],1)],1)],1)],1)])])],1)},b=[],g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.status?a("b-row",{staticClass:"loader",attrs:{"align-v":"center"}},[a("b-col",[a("b-spinner"),a("br"),a("br"),a("strong",[t._v("Loading")])],1)],1):t._e()],1)},v=[],w={props:{status:{type:Boolean,default:!1,required:!1}},watch:{status:{immediate:!0,deep:!0,handler:function(){}}},data:function(){return{}},created:function(){},methods:{}},y=w,C=Object(p["a"])(y,g,v,!1,null,null,null),x=C.exports,k={name:"server-side-paginated-table",inheritAttrs:!1,mixins:[c["a"]],components:{NumberFormatComponent:d["a"],Loader:x},data:function(){return{form:{customer_id:this.$route.params.id,amount:"",remarks:""},form_copy:{},selected:[],list:{data:[],from:1,to:0,current_page:1,total:0,per_page:1},result:[],loading:!0,searchTimeout:function(){return{type:Function,default:function(){return{}}}},search_term:"",options:[{value:10,text:"Display 10 records"},{value:25,text:"Display 25 records"},{value:50,text:"Display 50 records"},{value:100,text:"Display 100 records"}],selected_display_no:10,table_settings:{api_url:"maintenance/customers/manual_entries",delete_url:"maintenance/customers/delete_manual_entries",fields:[{key:"created_at.other_formats.format_1",label:"Transaction Date"},{key:"remarks",label:"Remarks"},{key:"amount.other_formats.format_1",label:"Amount"},{key:"action",label:"Action"}]},modal:!1,is_saving:!1}},computed:{table_items:function(){return this.list.data},per_page:function(){return parseInt(this.list.per_page)},total_rows:function(){return parseInt(this.list.total)},captions:function(){return this.table_settings.fields},total_selected:function(){return parseInt(this.selected.length)}},created:function(){this.form_copy=JSON.parse(JSON.stringify(this.form))},mounted:function(){},watch:{search_term:{immediate:!0,handler:function(){""!=this.search_term&&(this.loading=!0),this.list.current_page=1,this.getAll()}},project_location_structure_item_id:{immediate:!0,handler:function(){-1!=this.project_location_structure_item_id&&""!=this.project_location_structure_item_id&&(this.loading=!0,this.list.current_page=1,this.getAll())}}},methods:{getAll:function(){var t=this;this.loading=!0,this.axios.get(this.table_settings.api_url+"?customer_id="+this.$route.params.id+"&page="+this.list.current_page+"&per_page="+this.selected_display_no+"&search="+this.search_term).then((function(e){var a=e.data;t.list=a,t.loading=!1})).catch((function(t){return console.log(t)}))},rowDbClicked:function(t){this.$emit("serverSidePaginatedTableDbClick",t)},clearSearch:function(){this.search_term="",this.getAll()},changeDisplayNo:function(){this.loading=!0,this.list.current_page=1,this.getAll()},deleteRow:function(t){var e=this;this.swalConfirmDelete((function(a){a.value&&(e.loading=!0,e.axios.delete(e.table_settings.delete_url,{data:{id:t}}).then((function(t){e.getAll(),e.swal_transaction_completed_data.text="Record successfully deleted.",e.swalTransactionCompleted(),e.loading=!1,e.getAll()})).catch((function(t){e.swalRequestError(),e.loading=!1})))}))},save:function(){var t=this;event.preventDefault(),this.swalConfirmSubmit((function(e){e.value&&(t.is_saving=!0,t.axios.post("maintenance/customers/add_manual_entries",t.form).then((function(e){t.swalTransactionCompleted(),t.form=JSON.parse(JSON.stringify(t.form_copy)),t.is_saving=!1,t.modal=!1,t.getAll()})).catch((function(e){t.swal_transaction_error_data.text=e.response.data,t.swalRequestError(),t.is_saving=!1})))}))}}},D=k,A=Object(p["a"])(D,f,b,!1,null,null,null),T=A.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"card bg-light mb-0"},[a("div",{staticClass:"card-header bg-facebook text-white p-2"},[t.loading?a("div",[a("strong",[t._v(" Fetching result... ")])]):a("div",[a("font-awesome-icon",{attrs:{icon:"database"}}),a("strong",[t._v(" "+t._s(t.list.total)+" ")]),a("small",[t._v("Result/s found")])],1)]),a("div",{staticClass:"card-body bg-light mb-0 p-2"},[a("b-row",{staticClass:"mb-2"},[a("b-col",{attrs:{sm:"4"}},[a("b-form-select",{attrs:{options:t.options,size:"sm"},on:{change:t.changeDisplayNo},model:{value:t.selected_display_no,callback:function(e){t.selected_display_no=e},expression:"selected_display_no"}})],1),a("b-col",{attrs:{sm:"6","offset-sm":"2"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-input-group-prepend",[a("b-input-group-text",{staticClass:"bg-dark text-white"},[a("font-awesome-icon",{attrs:{icon:"search"}})],1)],1),a("b-form-input",{attrs:{type:"text",debounce:"500",placeholder:"Search...",autocomplete:"off"},model:{value:t.search_term,callback:function(e){t.search_term=e},expression:"search_term"}}),a("b-input-group-append",[a("b-button",{staticClass:"bg-dark text-white",attrs:{variant:"dark",disabled:""==t.search_term},on:{click:t.clearSearch}},[a("font-awesome-icon",{attrs:{icon:"times"}})],1)],1)],1)],1)],1),a("b-table",{staticClass:"bg-white",attrs:{selectable:"",selectedVariant:"info","select-mode":"single",responsive:"sm",small:"",items:t.table_items,fields:t.captions,busy:t.loading,bordered:"","show-empty":"","head-variant":"dark"},on:{"row-dblclicked":t.rowDbClicked}},[a("div",{staticClass:"text-center my-2",attrs:{slot:"table-busy"},slot:"table-busy"},[a("br"),a("b-spinner",{staticClass:"align-middle",attrs:{small:""}}),a("br"),a("br"),a("strong",[t._v("Loading")])],1)]),t.list.total>0?a("nav",[a("b-pagination",{staticClass:"mb-0",attrs:{disabled:t.loading,align:"right","total-rows":t.total_rows,"per-page":t.per_page},on:{input:t.getAll},model:{value:t.list.current_page,callback:function(e){t.$set(t.list,"current_page",e)},expression:"list.current_page"}})],1):t._e()],1)])])},S=[],R={name:"server-side-paginated-table",inheritAttrs:!1,mixins:[c["a"]],components:{NumberFormatComponent:d["a"]},data:function(){return{selected:[],list:{data:[],from:1,to:0,current_page:1,total:0,per_page:1},result:[],loading:!0,searchTimeout:function(){return{type:Function,default:function(){return{}}}},search_term:"",options:[{value:10,text:"Display 10 records"},{value:25,text:"Display 25 records"},{value:50,text:"Display 50 records"},{value:100,text:"Display 100 records"}],selected_display_no:10,table_settings:{api_url:"maintenance/customers/payments",delete_url:"daily_logs/delete",fields:[{key:"transaction_date.other_formats.format_1",label:"Transaction Date"},{key:"order_number",label:"Reference Number"},{key:"discount.other_formats.format_1",label:"Discount"},{key:"grand_total.other_formats.format_1",label:"Amount Paid"}]}}},computed:{table_items:function(){return this.list.data},per_page:function(){return parseInt(this.list.per_page)},total_rows:function(){return parseInt(this.list.total)},captions:function(){return this.table_settings.fields},total_selected:function(){return parseInt(this.selected.length)}},created:function(){},mounted:function(){},watch:{search_term:{immediate:!0,handler:function(){""!=this.search_term&&(this.loading=!0),this.list.current_page=1,this.getAll()}},project_location_structure_item_id:{immediate:!0,handler:function(){-1!=this.project_location_structure_item_id&&""!=this.project_location_structure_item_id&&(this.loading=!0,this.list.current_page=1,this.getAll())}}},methods:{getAll:function(){var t=this;this.loading=!0,this.axios.get(this.table_settings.api_url+"?customer_id="+this.$route.params.id+"&page="+this.list.current_page+"&per_page="+this.selected_display_no+"&search="+this.search_term).then((function(e){var a=e.data;t.list=a,t.loading=!1})).catch((function(t){return console.log(t)}))},clickTopRightBtn:function(){this.$emit("serverSidePaginatedTableTopRightBtnClicked")},rowDbClicked:function(t){this.$emit("serverSidePaginatedTableDbClick",t)},clearSearch:function(){this.search_term="",this.getAll()},changeDisplayNo:function(){this.loading=!0,this.list.current_page=1,this.getAll()},deleteRow:function(t){var e=this;this.swalConfirmDelete((function(a){a.value&&(e.loading=!0,e.axios.delete(e.delete_url,{data:{id:t}}).then((function(t){e.getAll(),e.swal_transaction_completed_data.text="Record successfully deleted.",e.swalTransactionCompleted(),e.loading=!1,l["bus"].$emit("refreshComputations")})).catch((function(t){e.swalRequestError(),e.loading=!1})))}))}}},N=R,B=Object(p["a"])(N,$,S,!1,null,null,null),E=B.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"card bg-light mb-0"},[a("div",{staticClass:"card-header bg-facebook text-white p-2"},[t.loading?a("div",[a("strong",[t._v(" Fetching result... ")])]):a("div",[a("font-awesome-icon",{attrs:{icon:"database"}}),a("strong",[t._v(" "+t._s(t.list.total)+" ")]),a("small",[t._v("Result/s found")])],1)]),a("div",{staticClass:"card-body bg-light mb-0 p-2"},[a("b-row",{staticClass:"mb-2"},[a("b-col",{attrs:{sm:"4"}},[a("b-form-select",{attrs:{options:t.options,size:"sm"},on:{change:t.changeDisplayNo},model:{value:t.selected_display_no,callback:function(e){t.selected_display_no=e},expression:"selected_display_no"}})],1),a("b-col",{attrs:{sm:"6","offset-sm":"2"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-input-group-prepend",[a("b-input-group-text",{staticClass:"bg-dark text-white"},[a("font-awesome-icon",{attrs:{icon:"search"}})],1)],1),a("b-form-input",{attrs:{type:"text",debounce:"500",placeholder:"Search...",autocomplete:"off"},model:{value:t.search_term,callback:function(e){t.search_term=e},expression:"search_term"}}),a("b-input-group-append",[a("b-button",{staticClass:"bg-dark text-white",attrs:{variant:"dark",disabled:""==t.search_term},on:{click:t.clearSearch}},[a("font-awesome-icon",{attrs:{icon:"times"}})],1)],1)],1)],1)],1),a("b-table",{staticClass:"bg-white",attrs:{selectable:"",selectedVariant:"info","select-mode":"single",responsive:"sm",small:"",items:t.table_items,fields:t.captions,busy:t.loading,bordered:"","show-empty":"","head-variant":"dark"},on:{"row-dblclicked":t.rowDbClicked}},[a("div",{staticClass:"text-center my-2",attrs:{slot:"table-busy"},slot:"table-busy"},[a("br"),a("b-spinner",{staticClass:"align-middle",attrs:{small:""}}),a("br"),a("br"),a("strong",[t._v("Loading")])],1)]),t.list.total>0?a("nav",[a("b-pagination",{staticClass:"mb-0",attrs:{disabled:t.loading,align:"right","total-rows":t.total_rows,"per-page":t.per_page},on:{input:t.getAll},model:{value:t.list.current_page,callback:function(e){t.$set(t.list,"current_page",e)},expression:"list.current_page"}})],1):t._e()],1)])])},q=[],I={name:"server-side-paginated-table",inheritAttrs:!1,mixins:[c["a"]],components:{NumberFormatComponent:d["a"]},data:function(){return{selected:[],list:{data:[],from:1,to:0,current_page:1,total:0,per_page:1},result:[],loading:!0,searchTimeout:function(){return{type:Function,default:function(){return{}}}},search_term:"",options:[{value:10,text:"Display 10 records"},{value:25,text:"Display 25 records"},{value:50,text:"Display 50 records"},{value:100,text:"Display 100 records"}],selected_display_no:10,table_settings:{api_url:"maintenance/customers/logs",delete_url:"daily_logs/delete",fields:[{key:"created_at.other_formats.format_1",label:"Transaction Date"},{key:"remarks",label:"Remarks"},{key:"amount.other_formats.format_1",label:"Amount"},{key:"current_balance.other_formats.format_1",label:"Balance After Transaction"}]}}},computed:{table_items:function(){return this.list.data},per_page:function(){return parseInt(this.list.per_page)},total_rows:function(){return parseInt(this.list.total)},captions:function(){return this.table_settings.fields},total_selected:function(){return parseInt(this.selected.length)}},created:function(){},mounted:function(){},watch:{search_term:{immediate:!0,handler:function(){""!=this.search_term&&(this.loading=!0),this.list.current_page=1,this.getAll()}},project_location_structure_item_id:{immediate:!0,handler:function(){-1!=this.project_location_structure_item_id&&""!=this.project_location_structure_item_id&&(this.loading=!0,this.list.current_page=1,this.getAll())}}},methods:{getAll:function(){var t=this;this.loading=!0,this.axios.get(this.table_settings.api_url+"?customer_id="+this.$route.params.id+"&page="+this.list.current_page+"&per_page="+this.selected_display_no+"&search="+this.search_term).then((function(e){var a=e.data;t.list=a,t.loading=!1})).catch((function(t){return console.log(t)}))},clickTopRightBtn:function(){this.$emit("serverSidePaginatedTableTopRightBtnClicked")},rowDbClicked:function(t){this.$emit("serverSidePaginatedTableDbClick",t)},clearSearch:function(){this.search_term="",this.getAll()},changeDisplayNo:function(){this.loading=!0,this.list.current_page=1,this.getAll()},deleteRow:function(t){var e=this;this.swalConfirmDelete((function(a){a.value&&(e.loading=!0,e.axios.delete(e.delete_url,{data:{id:t}}).then((function(t){e.getAll(),e.swal_transaction_completed_data.text="Record successfully deleted.",e.swalTransactionCompleted(),e.loading=!1,l["bus"].$emit("refreshComputations")})).catch((function(t){e.swalRequestError(),e.loading=!1})))}))}}},O=I,F=Object(p["a"])(O,j,q,!1,null,null,null),z=F.exports,P={components:{FormComponent:n["a"],ChargedTransactions:h,ManualEntries:T,PaymentTransactions:E,TransactionLogs:z},data:function(){return{}},created:function(){},methods:{}},L=P,J=Object(p["a"])(L,s,i,!1,null,null,null);e["default"]=J.exports}}]);
//# sourceMappingURL=chunk-311f4dac.ba008e4a.js.map